<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PolynomialRegressionExceptionTest.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JML$All_Tests_JaCoCo.exec</a> &gt; <a href="index.source.html" class="el_package">com.jml.linear_models</a> &gt; <span class="el_source">PolynomialRegressionExceptionTest.java</span></div><h1>PolynomialRegressionExceptionTest.java</h1><pre class="source lang-java linenums">package com.jml.linear_models;

import com.jml.core.Model;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;

import java.util.HashMap;

import static org.junit.jupiter.api.Assertions.assertThrows;

<span class="fc" id="L12">class PolynomialRegressionExceptionTest {</span>

    Model&lt;double[], double[]&gt; model;
    double[] features;
    double[] targets;
    double[] tests;


    @BeforeEach
        // Runs before each test
    void setUp() {
<span class="fc" id="L23">        model = new PolynomialRegression();</span>
<span class="fc" id="L24">        features = new double[]{1.49, 3.03, 0.57, 5.74, 3.51, 3.73, 2.98, -0.18, 6.23, 3.38, 2.15, 2.1, 3.93, 2.47, -0.41};</span>
<span class="fc" id="L25">        targets = new double[]{44.6, 57.8, 49.9, 61.3, 49.6, 61.8, 49.0, 44.7, 59.2, 53.9, 46.5, 54.7, 50.3, 51.2, 45.7};</span>
<span class="fc" id="L26">        tests = new double[]{-1.2, 0, 1, 2, 3.14, 4};</span>
<span class="fc" id="L27">    }</span>


    @Test // Defines a test method
    @DisplayName(&quot;Test for attempted fitting/prediction but model is not compiled yet.&quot;) // define the name of the test which is displayed to the user
    void notCompiledTestCase() {
<span class="pc" id="L33">        assertThrows(Exception.class, () -&gt; model.fit(features, targets));</span>
<span class="pc" id="L34">        assertThrows(Exception.class, () -&gt; model.predict(tests));</span>
<span class="fc" id="L35">    }</span>


    @Test // Defines a test method
    @DisplayName(&quot;Test for attempted prediction but model is not fit.&quot;) // define the name of the test which is displayed to the user
    void notFitTestCase() {
<span class="fc" id="L41">        double[] expected = {45.96048699, 1.95748083, 0.06892953};</span>
<span class="fc" id="L42">        double[] testingExpected = {43.7107685, 45.9604870, 47.9868974, 50.1511668, 52.7865944, 54.8932828};</span>

<span class="fc" id="L44">        HashMap&lt;String, Double&gt; arguments = new HashMap&lt;&gt;();</span>
<span class="fc" id="L45">        arguments.put(&quot;degree&quot;, 2.0);</span>

<span class="fc" id="L47">        model.compile(arguments);</span>

<span class="pc" id="L49">        assertThrows(Exception.class, () -&gt; model.predict(tests));</span>
<span class="fc" id="L50">    }</span>


    @Test // Defines a test method
    @DisplayName(&quot;Test for attempted compile with invalid normalization value&quot;) // define the name of the test which is displayed to the user
    void invalidNormalizationCase() {
<span class="fc" id="L56">        HashMap&lt;String, Double&gt; arguments = new HashMap&lt;&gt;();</span>
<span class="fc" id="L57">        arguments.put(PolynomialRegression.NORMALIZE_KEY, 2.0);</span>

<span class="pc" id="L59">        assertThrows(Exception.class, () -&gt; model.compile(arguments));</span>
<span class="fc" id="L60">    }</span>


    @Test // Defines a test method
    @DisplayName(&quot;Test for exception when degree is invalid&quot;) // define the name of the test which is displayed to the user
    void invalidDegreeCase() {
<span class="fc" id="L66">        HashMap&lt;String, Double&gt; arguments1 = new HashMap&lt;&gt;();</span>
<span class="fc" id="L67">        arguments1.put(PolynomialRegression.DEGREE_KEY, 2.1);</span>

<span class="fc" id="L69">        HashMap&lt;String, Double&gt; arguments2 = new HashMap&lt;&gt;();</span>
<span class="fc" id="L70">        arguments2.put(PolynomialRegression.DEGREE_KEY, -1.0);</span>

<span class="fc" id="L72">        HashMap&lt;String, Double&gt; arguments3 = new HashMap&lt;&gt;();</span>
<span class="fc" id="L73">        arguments3.put(PolynomialRegression.DEGREE_KEY, 0.0);</span>

<span class="pc" id="L75">        assertThrows(Exception.class, () -&gt; model.compile(arguments1));</span>
<span class="pc" id="L76">        assertThrows(Exception.class, () -&gt; model.compile(arguments2));</span>
<span class="pc" id="L77">        assertThrows(Exception.class, () -&gt; model.compile(arguments3));</span>
<span class="fc" id="L78">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>